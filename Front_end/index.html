<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <title>TaskFlow Navbar</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="style.css">
</head>

<body>

    <nav class="navbar navbar-custom">
        <div class="container-fluid">

            <!-- Esquerda -->
            <div class="d-flex align-items-center gap-3">
                <div class="app-logo">
                    <i class="bi bi-clipboard-check"></i>
                </div>

                <div>
                    <div class="fw-semibold">TaskFlow</div>
                    <div class="subtitle" id="userGreeting"><span id="userName"></span></div>
                </div>
            </div>

            <!-- Direita -->
            <div class="d-flex align-items-center gap-4">
                <button class="nav-btn" id="themeToggle">
                    <i class="bi bi-sun"></i>
                </button>

                <button class="nav-btn">
                    <i class="bi bi-box-arrow-right"></i>
                    Sair
                </button>
            </div>

        </div>
    </nav>
  
    <div class="container mt-5">

        <div class="task-card mx-auto">

            <h5 class="mb-4">Nova Tarefa</h5>

            <div class="mb-3">
                <label class="form-label">Nome da Tarefa</label>
                <input id="tasktitulo" class="form-control dark-input" placeholder="Ex: Estudar...">
            </div>

            <div class="mb-4">
                <label class="form-label">Descrição</label>
                <textarea id="taskdescricao" rows="3" class="form-control dark-input"
                    placeholder="Descreva sua tarefa..."></textarea>
            </div>

            <div class="mb-4">
                <label class="form-label mb-2">Prioridade</label>

                <div class="priority-group">
                    <button class="priority-btn tranquil" data-level="tranquilo">Tranquilo</button>
                    <button class="priority-btn normal active" data-level="normal">Normal</button>
                    <button class="priority-btn important" data-level="importante">Importante</button>
                </div>
            </div>

            <button type="button" id="addTask" class="btn-add">
                + Adicionar Tarefa
            </button>
        </div>

    </div>

    <div class="container mt-5">

        <div class="d-flex justify-content-between align-items-center mb-3">

            <div class="d-flex align-items-center gap-2">
                <h5 class="m-0">Suas Tarefas</h5>
                <span id="pendingCount" class="badge bg-primary">0 pendentes</span>
            </div>

            <div class="d-flex gap-3">

                <button id="filterToggle" class="nav-btn">
                    <i class="bi bi-funnel"></i> Filtros
                </button>

                <div class="btn-group">
                    <button class="btn btn-sm btn-dark active" id="cardView">
                        <i class="bi bi-grid"></i> Cards
                    </button>
                    <button class="btn btn-sm btn-dark" id="tableView">
                        <i class="bi bi-table"></i> Tabela
                    </button>
                </div>

            </div>
        </div>

        <!-- FILTROS -->

        <div id="filters" class="filter-box mb-4 d-none ">

            <div>
                <small>Prioridade</small>
                <div class="filter-group">
                    <button data-priority="all" class="filter-btn active">Todas</button>
                    <button data-priority="tranquil" class="filter-btn">Tranquilo</button>
                    <button data-priority="normal" class="filter-btn">Normal</button>
                    <button data-priority="important" class="filter-btn">Importante</button>
                </div>
            </div>

            <div>
                <small>Status</small>
                <div class="filter-group">
                    <button data-status="all" class="filter-btn active">Todas</button>
                    <button data-status="pending" class="filter-btn">Pendentes</button>
                    <button data-status="done" class="filter-btn">Concluídas</button>
                </div>
            </div>

        </div>

        <!-- LISTA -->

        <div id="emptyState" class="empty-box">
            <i class="bi bi-clipboard"></i>
            <h6>Nenhuma tarefa ainda</h6>
            <p>Adicione sua primeira tarefa usando o formulário acima</p>
        </div>

        <div id="taskList" class="task-grid"></div>

        <table id="taskTable" class="table table-dark table-hover mt-3">
            <thead>
                <tr>
                    <th>Status</th>
                    <th>Título</th>
                    <th>Descrição</th>
                    <th>Prioridade</th>
                    <th>Ações</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <!-- CONTADORES -->

        <div class="stats">
            <span id="total">0 total</span>
            <span class="text-success" id="done">0 concluídas</span>
            <span class="text-primary" id="pending">0 pendentes</span>
        </div>

    </div>

    <!-- MODAL DELETE -->
    <div class="modal fade" id="deleteModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-dark text-white">

                <div class="modal-header border-0">
                    <h5 class="modal-title">Confirmar exclusão</h5>
                    <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                    Tem certeza que deseja deletar esta tarefa?
                </div>

                <div class="modal-footer border-0">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button class="btn btn-danger" id="confirmDelete">Deletar</button>
                </div>

            </div>
        </div>
    </div>

    <!-- MODAL EDIT -->
    <div class="modal fade" id="editModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content bg-dark text-white">

                <div class="modal-header border-0">
                    <h5 class="modal-title">Editar tarefa</h5>
                    <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">

                    <input id="editTitle" class="form-control dark-input mb-3">

                    <textarea id="editDesc" rows="3" class="form-control dark-input"></textarea>

                </div>

                <div class="modal-footer border-0">
                    <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button class="btn btn-primary" id="saveEdit">Salvar</button>
                </div>

            </div>
        </div>
    </div>




    <div class="modal fade" id="viewTaskModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content bg-dark text-white">

                <div class="modal-header border-0">
                    <h5 class="modal-title" id="viewTaskTitle"></h5>
                    <button class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                    <p id="viewTaskDesc" style="white-space: pre-wrap;"></p>
                </div>

                <div class="modal-footer border-0 justify-content-end">
                    <div class="task-actions">

                        <button class="btn btn-dark d-flex align-items-center gap-2" onclick="editFromView()">
                            <i class="bi bi-pencil"></i>
                            Editar
                        </button>

                        <button class="btn btn-dark d-flex align-items-center gap-2 text-danger"
                            onclick="deleteFromView()">
                            <i class="bi bi-trash"></i>
                            Excluir
                        </button>

                    </div>
                </div>


            </div>
        </div>
    </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>


    <script>
        const toggle = document.getElementById("themeToggle");

        let dark = true;

        toggle.addEventListener("click", () => {
            dark = !dark;

            document.body.style.background = dark ? "#0b0f14" : "#f5f5f5";
            document.body.style.color = dark ? "#fff" : "#000";

            toggle.innerHTML = dark
                ? '<i class="bi bi-sun"></i>'
                : '<i class="bi bi-moon"></i>';
        });
    </script>


    <script src="js/main.js"></script>




</body>

</html>